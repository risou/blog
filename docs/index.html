<!DOCTYPE html>
<html>
    <head prefix="og: http://ogp.me/ns# fb: http://ogp.me/ns/fb# article: http://ogp.me/ns/article#">
        
        <script async src="https://www.googletagmanager.com/gtag/js?id=UA-29519043-1"></script>
        <script>
         window.dataLayer = window.dataLayer || [];
         function gtag(){dataLayer.push(arguments);}
         gtag('js', new Date());
         gtag('config', 'UA-29519043-1');
        </script>
        
        <meta charset="utf-8">
        <meta name="viewport" content="width=device-width, initial-scale=1">
        <meta property="og:title" content="risou's Lithograph" />
        <meta property="og:type" content="website" />
        <meta property="og:url" content="https://blog.risouf.net" />
        <meta property="og:image" content="https://blog.risouf.net/static/img/sunglass.jpeg" />
        <meta property="og:site_name" content="risou's Lithograph" />
        <meta property="og:description" content="risou's mini blog - writing about software engineering, thinking, private events" /><meta property="fb:app_id" content="2945406965474658" /><meta name="twitter:card" content="summary" /><meta name="twitter:site" content="@risou" />
        <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/bulma/0.7.2/css/bulma.min.css">
        <link rel="stylesheet" href="/static/main.css">
        <title>risou's Lithograph</title>
    </head>
    <body>
        <section class="hero is-medium is-bold is-dark">
            <div class="hero-body">
                <div class="container has-text-centered">
                    <h1 class="title is-1">risou's Lithograph</h1>
                </div>
            </div>
        </section>
        <section class="section">
            <div class="container">
                <nav class="level is-mobile">
                    <div class="level-left"></div>
                    <div class="level-right">
                        <p class="level-item">top</p>
                        <p class="level-item"><a href="/list.html">list</a></p>
                    </div>
                </nav>
                <article class="articles">
                    
                    <div class="article">
                        <h1 class="title is-2"><a href="/entry/2022-10-10-github-api-v4-lack-of-some-functions.html">GitHub API v4 では v3 でできることのいくつかができない</a></h1>
                        <div class="subtitle published">2022-10-10</div>
                        <div class="content">
                            <p>最近いろいろな事情があり、 API 経由で GitHub からデータを取得したり変更をかけたりしたくて GitHub API について調べたり実際に叩いてみたりしていた。</p>

<p>GitHub の API は現行では REST API である v3 と GraphQL API である v4 が提供されており、 v4 は v3 の後継というよりは新規に作り直しているもの、という立ち位置のようだ。</p>

<p>基本的には最新版を使うのが良いだろうという認識のもと（幸いにも GraphQL に触れた経験はあったので） v4 を使ってやりたいことを実現するコードを書き進めていた。<br/>
が、あることをやろうとして、それを実現する機能が v4 では提供されていなさそうだ、という事に気づいた。<br/>
やろうとしていたのは、 GitHub Organization における Team で、要は作業の一環として複数のチームを一気に作りたかったのだ。<br/>
だが GitHub API v4 のスキーマを見ていると、 <code>createTeam</code> という感じの mutation が存在しない。<br/>
v3 のドキュメントを見に行ってみると <a href="https://docs.github.com/ja/rest/teams/teams#create-a-team">Teams - GitHub Docs</a> とあり POST で <code>/orgs/{org}/teams</code> にリクエストを送ることでチームを作れそうである。</p>

<p>と、ここまで書いておきながら本当に API v4 でできないのか、まだよくわかっていない。<br/>
GitHub 上で GitHub API を活用してそうなリポジトリをいくつか見て回ったが、そのうちのいくつかは v3 と v4 を併用しているようだったので、「v3 でできることは全て v4 でできる」というわけではなさそうに見える。</p>

<p>ということで、自分としては v3 / v4 を併用するか、 v3 なら自分がやりたいことが全てできると信じて v3 のみに統一するか、という判断が必要そうだ。</p>
                        </div>
                    </div>
                
                    <div class="article">
                        <h1 class="title is-2"><a href="/entry/2022-10-03-begin-learning-how-to-solve-rubiks-cube.html">ルービックキューブで遊び始めた</a></h1>
                        <div class="subtitle published">2022-10-03</div>
                        <div class="content">
                            <p>たぶん半年くらい前に見かけてから少し興味を持っていたルービックキューブを、つい先日他のものを購入するついでに購入した。</p>

<p>買ったのは、 <a href="https://toribo.jp/">TORIBO ファーストキューブセット</a> という商品。</p>

<p><img src="/static/img/toribo-rubiks-cube.jpg" alt="TORIBO のルービックキューブ" /></p>

<p>リンク先を見てもらうとわかるが、「3x3x3 キューブ6面完成攻略書」という揃え方の説明書のようなものが入っており、そこに書かれている手順どおりに動かしていくことで最終的に6面揃えることができるという、初心者向けのキットだ。<br/>
また、ルービックキューブ自体も2つ入っており、1つは普通のルービックキューブ、もう1つはいくつかのキューブの面に目印がついている初心者向けのルービックキューブになっている。<br/>
後者の初心者向けルービックキューブに描かれている目印が6面完成攻略書にも使われており、手順に慣れるまでの動かし方をサポートしてくれる。</p>

<p>6面完成攻略書の内容は、おそらく大筋ではルービックキューブのセオリーに則っているように思えるもので、素人ながら「なるほどたしかにこの手順でやるのが良さそう」と納得できるものだった。<br/>
そういう意味では手順自体は目新しさはなく、最も説明したいのは詳細なそれぞれの手順におけるキューブの動かし方なのだろう。<br/>
キューブの動かし方は思っていたよりも少ない手順でできていてすごいな、と思うものの、僕自身はこういったものを丸覚えして使いこなすのはあまり得意ではなく、「どうしてその動かし方で目的が達成されるのか」「ある箇所のキューブを目的の場所に動かすにはこの順番で回す必要がある」といった部分を理解することで自分のものにしていくタイプなので、攻略書の内容を自分なりに分解していく必要を感じている。<br/>
パッと目を通して試してみて、前半はすんなり理解できたので、後半さえ理解できれば、という状態だが……。</p>

<p>今日届いて1時間弱ほど触ってみた今の時点では、攻略書の内容をベースにアレンジを加えたりよくわかってない部分を丸暗記しながら、なんとか6面を5分以内くらいで揃えられる状態にまで習得できた。<br/>
ここから先は後半の動かし方を「なぜその動かし方でやりたいことができるのか」理解しながら自分のものにしていくことになるので、安定するまでには、あるいは人に教えられるようになるまでにはもう少しかかりそうだ。</p>
                        </div>
                    </div>
                
                    <div class="article">
                        <h1 class="title is-2"><a href="/entry/2022-09-15-solved-cookpad-code-puzzle-2022.html">Cookpad Code Puzzle for RubyKaigi 2022 を解いたよ</a></h1>
                        <div class="subtitle published">2022-09-15</div>
                        <div class="content">
                            <p><a href="https://ruby-puzzles-2022.cookpad.tech/">https://ruby-puzzles-2022.cookpad.tech/</a></p>

<p>これの話。</p>

<p>今年の RubyKaigi は現地に行くつもりでいたけど、夏に入ったあたりでデイリーの新規感染者数がとても増えていて、念の為やめておくか、という判断になったのでオンラインで参加した。<br/>
オンラインでのカンファレンス参加も少しずつ経験が増えてきているけど、どうしても一定の味気なさを感じてしまったり、（今回は会社の予算で参加させてもらったこともあり）仕事感が拭えない部分もあった。</p>

<p>そんな中、スポンサー企業のうちの一社である Cookpad が出した code puzzle がこれ。</p>

<p>現地／オンライン参加していた会社の同僚たちもチャレンジしていたので、自分も2日目が終わったあたりから手を付け始め、空いた時間で少しずつ解き進めていった。</p>

<blockquote class="twitter-tweet"><p lang="ja" dir="ltr">ちゃんと最後まで自力で解けて安心しました <a href="https://t.co/5qeWDazoJT">pic.twitter.com/5qeWDazoJT</a></p>&mdash; risou (@risou) <a href="https://twitter.com/risou/status/1569618693377912835?ref_src=twsrc%5Etfw">September 13, 2022</a></blockquote>


<p> <script async src="https://platform.twitter.com/widgets.js" charset="utf-8"></script></p>

<p>一番頭を悩ませたのは13問目かなあ、という風に記憶している。<br/>
何を求められているのか、を思いつくまでに時間がかかった。<br/>
後続の同種の問題はこの問題のおかげで簡単に解けたし、思いつくまでに時間がかかった問題は他にもいくつかあるけど、実装が難しくて大変だった、というのはあまりなかったように思う。<br/>
強いて言うなら19問目はちょっと面倒に感じたけど、それだけ。</p>

<p>こういったものはカンファレンスの合間に解き進めたりすることを想定していると思うので、実装量が多いと面倒になるなあ、という気持ちもあり、そういう意味ではちょうどよいボリュームだったかも。<br/>
スポンサーとしてこういう問題を提供できるということ、そして其のための環境として Wasm を活用しているということは、企業として良いアピールになっているのではないかと思う。</p>

<p>そういえば RubyKaigi 自体の感想はどうだったかというと、一言でいうと「もっと英語聞き取れるようにならないとついていけないな」に尽きます。<br/>
理解できた範囲では面白い話が多かったけれど、それを深く追うにはやはりまず英語というハードルを超えていく必要がある。<br/>
似たようなことをカンファレンスの度に言っているので、我ながら成長がないなと呆れるばかりであったり。</p>
                        </div>
                    </div>
                
                    <div class="article">
                        <h1 class="title is-2"><a href="/entry/2022-08-31-add-trigger-to-github-actions.html">Lithograph を GitHub で使いやすいようにトリガーを追加した</a></h1>
                        <div class="subtitle published">2022-08-31</div>
                        <div class="content">
                            <p>このブログのシステムである Lithograph は元々ローカルでの利用を想定して、新しい記事を作成するコマンドなどを実装していた。</p>

<p>しかし昨今では想定していた主なホスティング先である GitHub でできることが増えており、現在では <a href="/entry/2021-09-07-switch-github-actions.html">直接 Visual Studio Code を起動してブラウザ上で記事を書く</a> 使い方に自分自身が慣れてしまった。</p>

<p>そこで GitHub Actions の手動実行機能を用いて、記事ファイル作成コマンドを実行するように変更した。<br/>
使い方は簡単で、ブログのリポジトリで Actions のページに行って、対象の Workflow を選択してボタンを押すだけ。<br/>
すると、ファイル名の入力が求められるのでそれだけ入力すれば新しい記事ファイルを作成してコミットを積んでくれる。<br/>
その後は Visual Studio Code に移って当該ファイルを編集すれば良い。</p>

<p>これで Lithograph 自体の機能を活用しつつブラウザ上でブログを書くことを完結できるようになった。</p>

<p>しかし1点気になることがある。<br/>
それは GitHub Actions でコマンド実行した際のタイムゾーンが UTC であることだ。<br/>
Lithograph の記事作成コマンドは実行された日時をファイル内に出力するし、ファイル名にも日付が使われる。<br/>
これが UTC であること自体は問題ないのだが、これによって記事の作成日時が表記上はずれてしまう可能性がある。<br/>
簡単に言えば、日が変わってから朝9時までに記事作成コマンドを実行すると、前日の記事として生成されてしまう。<br/>
（もちろん、この記事も手動で2022年8月31日の記事という形に修正したが、記事ファイルが生成された時点では2022年8月30日の記事ということになっていた）</p>

<p>これについては、そもそも Lithograph がタイムゾーンを考慮していないことが問題なので、後日修正したい。</p>
                        </div>
                    </div>
                
                    <div class="article">
                        <h1 class="title is-2"><a href="/entry/2022-08-29-count-points-of-each-task.html">今日ちゃんとタスクを進められたかを数値で確認する</a></h1>
                        <div class="subtitle published">2022-08-29</div>
                        <div class="content">
                            <p>エンジニアリングマネージャという役割で働き始めたとき最初に困ったのは、「今日ちゃんと仕事を進められた」という実感が得られないことだった。</p>

<p>エンジニアとしてコードを書いていたときと何が違うかといえば、一番大きな違いはコードや Issue, PR などを書く時間の確保の問題だった。<br/>
そういったやったかやってないかがわかりやすい仕事をどれだけできるかは、タイミングにかなり依存していて、例えば「採用に力を入れる」タイミングや、「機能開発の優先順位を整理して計画を立てる」タイミングとなると、関係するチームの人とのコミュニケーション量が増え、一通り会議を終えれば夜になっているということも珍しくなかった。</p>

<p>ひとつひとつのプロジェクトはちゃんと前に進んでいたし、（僕が関わっていたプロジェクトは長期のものが多かったのであまり経験できなかったが）目標数の内定承諾やリリースといった形でプロジェクトがゴールに到達することによって、ちゃんと仕事をしていたということの確認はできてはいた。</p>

<p>しかし、ある1日にフォーカスしたときに「今日は結構できたなあ」「今日は駄目だったな……」というのを主観的ではない方法で測ることができなかったので、ちゃんとやれているかという不安がつきまとってしまった。</p>

<p>そこで、自分がその日やったことをリストアップして、ひとつひとつにポイントを付けるようにした。<br/>
ポイントは作業の種類やボリュームによって一定のルールの元でつけられるようにしていた。<br/>
例えば、自分が主体的に進めるべきプロジェクトの会議であれば30分で4ポイント、オブザーバー的に参加する会議であれば30分で2ポイント、といった風に決めておく。<br/>
書類選考1件で5ポイント、面接は1回だいたい1時間想定で20ポイント、といった感じで、他の人に任せるのではなく自分がやるべきことはポイントを高めに設定していた。<br/>
自分がポイントを高めに設定していたのは、資料作成やマニュアル作成、採用関連や同僚との 1on1 あたりだ。</p>

<p>このポイントをつけるという行為は結局、自分の安心のためにやっていたので、そういった心配が払拭され始めたあたりでやめた。<br/>
トータルで半年に満たないくらいしかやらなかったが、その間毎日これをつけるようにしていた。<br/>
多いときで70ポイント、少ないときで30ポイントと、結構明確に差がでるのが面白く、また当時大量に入ってきていた会議の予定に対して、流されるままでは良くないということに気づけたのは良かった。</p>

<p>僕自身はあまりマメな性格ではないので、こういうことを継続するのは苦手だけれど、こういうことに抵抗がないひとは試してみると良いかもしれない。<br/>
日報を書く際についでにポイントを計算する、という感じでやっていたけど、日報を書いたら勝手に集計されるような仕組みがあれば今でも続けられたんじゃないかなあ、とは思う。<br/>
それはそれとして、 GitHub の Insights でコミット数などを見れる方がモチベーションにはつながりやすいな、というのは間違いなくある。</p>
                        </div>
                    </div>
                
                </article>
            </div>
        </section>
        <footer class="footer">
            <div class="content has-text-centered">
                Copyright &copy; 2019- risou All Rights Reserved.
            </div>
        </footer>
    </body>
</html>
