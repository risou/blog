<!DOCTYPE html>
<html>
    <head prefix="og: http://ogp.me/ns# fb: http://ogp.me/ns/fb# article: http://ogp.me/ns/article#">
        
        <script async src="https://www.googletagmanager.com/gtag/js?id=UA-29519043-1"></script>
        <script>
         window.dataLayer = window.dataLayer || [];
         function gtag(){dataLayer.push(arguments);}
         gtag('js', new Date());
         gtag('config', 'UA-29519043-1');
        </script>
        
        <meta charset="utf-8">
        <meta name="viewport" content="width=device-width, initial-scale=1">
        <meta property="og:title" content="Übersicht に SketchyBar に置き換えた | risou's Lithograph" />
        <meta property="og:type" content="article" />
        <meta property="og:url" content="https://blog.risouf.net/entry/2024-05-20-replace-ubersicht-with-sketchybar.html" />
        <meta property="og:image" content="https://blog.risouf.net/static/img/sunglass.jpeg" />
        <meta property="og:site_name" content="risou's Lithograph" />
        <meta property="og:description" content="以前は Übersicht で simple-bar というウィジェットツールを使っていた。  このウィジェットを使っていた主な目的としては、..." /><meta property="fb:app_id" content="2945406965474658" /><meta name="twitter:card" content="summary" /><meta name="twitter:site" content="@risou" />
        <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/bulma/0.7.2/css/bulma.min.css">
        <link rel="stylesheet" href="/static/main.css">
        
        <title>Übersicht に SketchyBar に置き換えた | risou's Lithograph</title>
    </head>
    <body>
        <section class="hero is-medium is-bold is-dark">
            <div class="hero-body">
                <div class="container has-text-centered">
                    <h1 class="title is-1">risou's Lithograph</h1>
                </div>
            </div>
        </section>
        <section class="section">
            <div class="container">
                <nav class="level is-mobile">
                    <div class="level-left"></div>
                    <div class="level-right">
                        <p class="level-item"><a href="/">top</a></p>
                        <p class="level-item"><a href="/list.html">list</a></p>
                    </div>
                </nav>
                <article class="articles">
                    <div class="article">
                        <h1 class="title is-2">Übersicht に SketchyBar に置き換えた</h1>
                        <div class="subtitle published">2024-05-20</div>
                        <div class="content">
                            <p>以前は <a href="https://tracesof.net/uebersicht/">Übersicht</a> で <a href="https://www.jeantinland.com/toolbox/simple-bar/">simple-bar</a> というウィジェットツールを使っていた。</p>

<p>このウィジェットを使っていた主な目的としては、 <a href="https://github.com/koekeishiya/yabai">yabai</a> というウィンドウマネージャを使っている中で、どのデスクトップにどのアプリケーションを置いているかなどが可視化されていると嬉しいというのが最も大きい。<br/>
このウィジェットツールは Mac の標準のメニューバーを代替することを想定しているものなので、日時に表示はもちろん、個人的には Spotify のステータス表示および再生・停止を行うウィジェットを便利に使ったり、自分でカスタマイズして <a href="https://meetingbar.app/">MeetingBar</a> の表示および次のミーティングへの参加ができるウィジェットを用意して、普段は OS が用意しているメニューバーを必要としない状態にしていた。</p>

<p>が、いくつか問題があって代替を探していた。</p>

<p>主な問題は何かというと、</p>

<ul>
<li>時折、負荷がかかっていそうな気配を感じさせる

<ul>
<li>CPU 使用率が跳ねたり、ファンが全力で稼働している音がしていた</li>
</ul>
</li>
<li>ローディング状態が続く

<ul>
<li>各ウィジェットが shell を定期実行してその結果を表示、という挙動をしているのだが、細かく大量にコマンドを実行しているためか、おそらく待ち行列が発生してローディング状態になって何も情報が得られない、という状態に結構なっていた</li>
</ul>
</li>
</ul>


<p>あたりで、特に後者はメニューバーの代替としての価値をほとんど失ってしまっているので時間を見つけて解消したいと思っていた。</p>

<p>simple-bar の代わりになりそうなものを探して、以下の２つのどちらかをためそうと考えた。</p>

<ul>
<li><a href="https://github.com/Jean-Tinland/simple-bar-lite">simple-bar-lite</a></li>
<li><a href="https://felixkratz.github.io/SketchyBar/">SketchyBar</a></li>
</ul>


<p>前者は simple-bar の軽量版ということで、導入コストが低そうなのが魅力だった。<br/>
が、問題の根本がもし Übersicht なのであれば、 simple-bar-lite を導入しても問題が解消しない可能性があった。</p>

<p>ということで、 SketchyBar を試すことにした。</p>

<p>実は SketchyBar の導入は Übersicht を導入したときにも検討をしていた。のだけど、調べてみたところ結構導入が大変そうだったので、一度見送ったという背景があった。</p>

<p>とはいえ、今回はもう腹をくくってこれを導入しよう、ということで、 <a href="https://github.com/FelixKratz/SketchyBar/discussions/47?sort=top">Share your setups · FelixKratz/SketchyBar · Discussion #47 · GitHub</a> から様々なセットアップを探して、ひとまずこれにしよう、というものを決めてそれを元に自分用にカスタマイズをした。</p>

<p>まずは、各デスクトップで開いているアプリケーションの表示部分をカスタマイズ。 4K などのモニタを使っているときは良いが、 FullHD のモニタではデスクトップ数が多いと横幅を広く取りすぎるので、アプリケーションがないデスクトップの表示をコンパクトにして、代わりに今アクティブなデスクトップのアプリケーションアイコンを省略しないようにした。</p>

<p>Spotify の表示についても参考にしたものでかなり整っていたが、再生・停止等の操作はポップアップメニュー経由で行う前提になっていたのと、再生していないときには表示領域に何もでなくなってしまうので、アイコンを常時表示にして、アイコンをクリックするだけで再生と停止を行えるようにした。</p>

<p>MeetingBar については自分で実装してワンクリックで次のミーティングのページを開けるようにした。これについては simple-bar 用に自分で用意したスクリプトをそのまま流用できたのでそんなに大変じゃなかった。</p>

<p>SketchyBar を導入して Übersicht を使っていたときの問題は解消したかというと、今のところ解消していそうな気配を感じている。<br/>
ファンが唸ることはなくなったし、ローディング状態にもならない。<br/>
さらに、 Übersicht から SketchyBar に置き換えたことが直接的な要因かは定かではないが、バッテリーの持ちが大幅に改善した。最近、長時間のオフラインミーティングなどで、途中でバッテリーが尽きてしまう問題を抱えていたが、かなり持つようになったことでこの問題が解決したことは副次的効果としては非常に嬉しかった。</p>

<p>これは Übersicht も同様だが、導入に際してどういう仕組みであるかを理解するまでのコストが高い。一方で、仕組みを理解してしまえばカスタマイズは容易といえる。<br/>
ということで、自分のやりたいことができるようになってきたところなので、時間に余裕ができたらもう少しカスタマイズしたいな、と思っている。<br/>
とはいえ、どんなカスタマイズをすると便利かの鮮明なイメージはまだ持っていないので、使いながら色々と考えてみようと思う。</p>
                        </div>
                        <div class="subtitle published">2024-05-20T17:53:45.521114Z</div>
                    </div>
                </article>
            </div>
        </section>
        <footer class="footer">
            <div class="content has-text-centered">
                Copyright &copy; 2019- risou All Rights Reserved.
            </div>
        </footer>
    </body>
</html>
